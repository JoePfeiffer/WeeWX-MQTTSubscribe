#version: 1.5.2-rc{build}
environment:
  SONAR_SCANNER_VERSION: 4.2.0.1873
  SONAR_SCANNER_HOME: $HOME/.sonar/sonar-scanner-$SONAR_SCANNER_VERSION-linux
  matrix:
    - WEEWX: weewx-4.0.0b18.tar.gz
      PYTHON: 2.7
      APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu1804
      WEEWX_URL: http://www.weewx.com/downloads/development_versions/
      
    - WEEWX: weewx-4.0.0b18.tar.gz
      PYTHON: 3.6
      APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu1804
      WEEWX_URL: http://www.weewx.com/downloads/development_versions/
      COVERALLS_UPLOAD: true
      SONAR_UPLOAD: true
      
    - WEEWX: weewx-3.9.2.tar.gz
      PYTHON: 2.7
      APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu1804
      WEEWX_URL: http://www.weewx.com/downloads/released_versions/
      
stack: python %PYTHON%
install:
  - sh: appveyor/install.sh

build_script:
  - sh: appveyor/build_script.sh  

test_script:
- sh: appveyor/test_script.sh

after_test:
  - sh: appveyor/after_test.sh

on_finish:
  - sh: appveyor/on_finish.sh
   